import{_ as n,o as s,c as a,e}from"./app.32572a58.js";const t={},p=e(`<h2 id="\u7B80\u4ECB" tabindex="-1"><a class="header-anchor" href="#\u7B80\u4ECB" aria-hidden="true">#</a> \u7B80\u4ECB</h2><p>nodemailer \u662F\u57FA\u4E8E Node \u7684\u4E00\u6B3E\u90AE\u4EF6\u81EA\u52A8\u53D1\u9001\u5DE5\u5177\uFF0C\u53EA\u8981\u6307\u5B9A\u90AE\u7BB1\u5730\u5740\u548C\u90AE\u4EF6\u5185\u5BB9\uFF0C\u5C31\u80FD\u5F88\u8F7B\u677E\u5728 node \u670D\u52A1\u5668\u7AEF\u811A\u672C\u5B9E\u73B0\u90AE\u4EF6\u81EA\u52A8\u53D1\u9001</p><h2 id="\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5" aria-hidden="true">#</a> \u5B89\u88C5</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> nodemailer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528" aria-hidden="true">#</a> \u4F7F\u7528</h2><ol><li><p>\u5728\u53D1\u9001\u90AE\u4EF6\u7684\u4E1A\u52A1\u51FD\u6570\u4E2D\u5F15\u5165</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> nodemailer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;nodemailer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u4F20\u5165\u6536\u4EF6\u4EBA\u90AE\u7BB1\u3001\u4E3B\u9898\u548C\u90AE\u4EF6\u5185\u5BB9\u53C2\u6570\uFF0C\u5E76\u5728\u73AF\u5883\u53D8\u91CF\u4E2D\u914D\u7F6E\u90AE\u7BB1\u8D26\u53F7\u548C\u5BC6\u94A5</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">sendEmail</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">email<span class="token punctuation">,</span> subject<span class="token punctuation">,</span> message</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> testAccount <span class="token operator">=</span> <span class="token keyword">await</span> nodemailer<span class="token punctuation">.</span><span class="token function">createTestAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> transporter <span class="token operator">=</span> nodemailer<span class="token punctuation">.</span><span class="token function">createTransport</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&quot;smtp.ethereal.email&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">587</span><span class="token punctuation">,</span>
    <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">auth</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">user</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SMTP_USER</span><span class="token punctuation">,</span> <span class="token comment">// generated ethereal user</span>
      <span class="token literal-property property">pass</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">SMTP_PASS</span><span class="token punctuation">,</span> <span class="token comment">// generated ethereal password</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> info <span class="token operator">=</span> <span class="token keyword">await</span> transporter<span class="token punctuation">.</span><span class="token function">sendMail</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token string">&#39;&quot;name&quot; &lt;test@gmail.com&gt;&#39;</span><span class="token punctuation">,</span> <span class="token comment">// sender address</span>
    <span class="token literal-property property">to</span><span class="token operator">:</span> email<span class="token punctuation">,</span> <span class="token comment">// list of receivers</span>
    <span class="token literal-property property">subject</span><span class="token operator">:</span> subject<span class="token punctuation">,</span> <span class="token comment">// Subject line</span>
    <span class="token literal-property property">text</span><span class="token operator">:</span> message<span class="token punctuation">,</span> <span class="token comment">// plain text body</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol>`,6),o=[p];function c(l,r){return s(),a("div",null,o)}var u=n(t,[["render",c],["__file","\u90AE\u4EF6\u53D1\u9001\u6A21\u5757.html.vue"]]);export{u as default};
